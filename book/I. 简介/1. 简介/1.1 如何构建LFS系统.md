
# 如何构建LFS系统

我们在已安装的Linux发行版上构建LFS系统（如Debian，OpenMandrive，Fedora或OpenSUSE）。现有的Linux系统（宿主）将被当成起点用以提供一些必备的程序，包括编译器、链接器及Shell，以便构建一个新系统。在安装这些发行版的过程中，选中“development”（开发）选项，即可访问这些工具。

除了在你的机器上安装一个发行版外，你还可以选择使用发行版的LiveCD。

[第二章]()讲述了如何创建一个Linux分区和文件系统，LFS系统将会在此编译和安装。[第三章]()讲述了如何下载LFS所需的软件包和补丁以及如何把它们存储在新建的文件系统中。[第四章]()讲述了如何建立合适的工作环境，请认真地阅读第四章，因为它解释了一些在开始第五章和其后章节前所需要注意的关键内容。

[第五章]()讲述了大量的软件包安装的内容，这些软件包将会构成一个开发环境（或者叫工具链），[第六章]()的内容将会在此基础之上构建一个实际的系统。一些软件包需要解决一些循环依赖问题，例如想要编译一个编译器，你必须要先有一个编译器。

第五章同样展示了如何构建一个第一遍(first pass)工具链，包括Binutils和GCC（第一遍的意思是说这两个核心软件包之后还会被安装）。使用第一遍工具链程序来编译和安装Glibc（C语言库）后，再重新构建工具链（第二遍）。之后的软件包将使用第二遍工具链来构建，结束这些之后，LFS的安装过程将不再依赖宿主系统，当然除了宿主上运行的内核。

这种将新系统从宿主系统中分离的努力似乎有些激进。在5.2节（工具链技术说明）中，将有一个全面的结束解释为什么要这样做。

在[第六章]()，我们将构建一个完全的LFS系统。使用```chroot```程序进入虚拟环境，并打开一个root目录被设定为LFS分区的新Shell。这与重新启动并指导内核挂载LFS分区为root分区非常相似。系统并没有重启，而是使用```chroot```命令，这是因为创建一个可启动的系统还需要额外的工作，暂时并没有必要这样做。使用```chroot```最大的好处是，它允许你在构建LFS的过程中，仍可以使用宿主系统，在编译软件包时，你可以正常的使用宿主系统。

为了完成安装，[第七章]()讲述了一些基本的系统配置方法，[第八章]()讲述了如何配置内核与启动加载器。[第九章]()讲述了在本书之外如何继续你的LFS旅程。在经历这些步骤之后，机器已经为重启进入新的LFS系统准备好了。

上述是一个大体的流程，每一步的详细信息都会在相关的章节中软件包的文档中讲述。哪些看似复杂的条目都将被详细阐明，你在LFS系统上的冒险将水到渠成。